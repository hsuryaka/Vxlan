#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
# Author information:                                              #
#        __author__ = 'Nexus India VxLAN DevTest Group'            #
#        __copyright__ = 'Copyright (c) 2023, Cisco Systems Inc.'  #
#        __contact__ = ['absr@cisco.com']                          #
#        __credits__ = ['absr']                                    #
#        __version__ = 2.0                                         #
#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-

#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
#                   Testbed Details (Set-B)                        #
#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
#                       Reference DOT1X Topology with dotted Diagram
#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
#                                               ----------------                                       #
#                                               |   EX-SPINE    |                                      #
#                                               ----------------                                       #
#                                                 .    .    .                                          #
#                                               .      .      .                                        #
#                                             .        .        .                                      #
#                                           .          .          .                                    #
#                                         .            .            .                                  #
#                                       .              .              .                                #
#                                     .                .                .                              #
#                     ----------------        ----------------      ----------------                   #
#     2xT.Gen ********|   GX-EOR-1   | ------ |   GX-EOR-2   |      |   GX-TOR-1   |  ******** 2xT.Gen #
#                     ----------------        ----------------      ----------------                   #
#                                   \          /          *                ●                           #
#                                    \        /           *                ●                           #
#                                     \      /            *                ●                           #
#                                      \    /             *                /\                          #
#                                       \  /           2xT.Gen            /  \                         #
#                                        \/                              /    \                        #
#                              ----------------                     ----------------                   #
#                              |   GX-FAN-1   |                     |    FEX101     | ******** 2xT.Gen #
#                              ----------------                     ----------------                   #
# ..... = 40G                                                                                          #
# ----- = 10G                                                                                          #
# ***** = 10G                                                                                          #
# ///// = 10G                                                                                          #
# \\\\\ = 10G                                                                                          #
# ●●● = 40G Breakout (AOC-Preferred)                                                                   #
#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-

testbed:
    name: Abhijith_Vega_Setup
    alias: absr_dot1x_single-site_Vega_setup
    credentials:
        default:
            username: admin
            password: nbv12345
    servers:
        scp:
            server: 10.127.63.241.cisco.com
            address: 10.127.63.241
            path: '/images/jhajajam_QA/nxos64-cs.10.4.0.IMG9.0.289.F.bin.upg'
            credentials:
                default:
                    username: swadmin
                    password: password
        tftp:
            server: bgl-ads-4837.cisco.com
            address: 64.104.151.214          
        radius:
            server: 10.78.63.122.cisco.com
            address: 10.78.63.122
            credentials:
                rads:
                    password: nbv123
                user:
                    username: jhajajam
                    password: "hT1C"
                endpoint:
                    host-1: '0011.1100.0001'
                    host-2: '0011.1100.0002'
                    host-3: '0011.1100.0003'
                    host-4: '0011.1100.0004'
                    host-5: '0011.1100.0005'
                    host-6: '0011.11aa.a1a1'
                    host-7: '0012.1100.0001'
                    host-8: '0012.1100.0002'
                    host-9: '0012.1100.0003'
                    host-10: '0012.1100.0004'
                    host-11: '0012.1100.0005'
                    host-12: '0021.1100.0001'
                    host-13: '0021.1100.0002'
                    host-14: '0021.1100.0003'
                    host-15: '0021.1100.0004'
                    host-16: '0021.1100.0005'
                    host-17: '0022.1100.0001'
                    host-18: '0022.1100.0002'
                    host-19: '0022.1100.0003'
                    host-20: '0022.1100.0004'
                    host-21: '0022.1100.0005'
                    host-22: '0031.1100.0001'
                    host-23: '0031.1100.0002'
                    host-24: '0031.1100.0003'
                    host-25: '0031.1100.0004'
                    host-26: '0031.1100.0005'
                    host-27: '0032.1100.0001'
                    host-28: '0032.1100.0002'
                    host-29: '0032.1100.0003'
                    host-30: '0032.1100.0004'
                    host-31: '0032.1100.0005'
                    host-32: '0041.1100.0001'
                    host-33: '0041.1100.0002'
                    host-34: '0041.1100.0003'
                    host-35: '0041.1100.0004'
                    host-36: '0041.1100.0005'
                    host-37: '0042.1100.0001'
                    host-38: '0042.1100.0002'
                    host-39: '0042.1100.0003'
                    host-40: '0042.1100.0004'
                    host-41: '0042.1100.0005'
    custom:
        owner: Abhijith S R Urala
        contacts: absr@cisco.com

#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
#    Node List:                                                    #
#            node01_spine        : GX-SPINE                        #
#            node02_vpcVtep1     : GX-EOR-1                        #
#            node03_vpcVtep2     : GX-EOR-2                        #
#            node04_stdVtep3     : GX-TOR-1                        #
#            node05_vpcFANOUT    : GX-FAN-1                        #
#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-

#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
#                   Device Details                                 #
#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-

devices:

    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
    #              Device - GX-SPINE - node01_spine        #
    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-

    GX-SPINE:
        alias: node01_spine
        type: n9k
        platform: n9k
        os: nxos
        connections:
            defaults:
                class: unicon.Unicon
            a:
                protocol: telnet
                ip: 10.197.127.14
                port: 2003
                service_attributes:
                    execute:
                        timeout: 240
                    configure:
                        timeout: 240
                        bulk: true
        custom:
            execute:
                timeout: 240
            configure:
                timeout: 240
            abstraction:
                order: [os, platform]

    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
    #           Device - GX-EOR-1 - node02_vpcVtep1        #
    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-

    GX-EOR-1:
        alias: node02_vpcVtep1
        type: n9k
        platform: n9k
        os: nxos
        connections:
            defaults:
                class: unicon.Unicon
            a:
                protocol: telnet
                ip: 10.197.127.14
                port: 2004
                service_attributes:
                    execute:
                        timeout: 240
                    configure:
                        timeout: 240
                        bulk: true
            b:
                protocol: telnet
                ip: 10.197.127.14
                port: 2005
                service_attributes:
                    execute:
                        timeout: 240
                    configure:
                        timeout: 240
                        bulk: true
            vty:
                protocol: ssh
                ip: 10.197.127.61
                service_attributes:
                    execute:
                        timeout: 240
                    configure:
                        timeout: 240
                        bulk: true
        custom:
            execute:
                timeout: 240
            configure:
                timeout: 240
            abstraction:
                order: [os, platform]
            gw: 10.197.127.1
            msk: 25

    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
    #           Device - GX-EOR-2 - node03_vpcVtep2        #
    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-

    GX-EOR-2:
        alias: node03_vpcVtep2
        type: n9k
        platform: n9k
        os: nxos
        connections:
            defaults:
                class: unicon.Unicon
            a:
                protocol: telnet
                ip: 10.197.127.14
                port: 2006
                service_attributes:
                    execute:
                        timeout: 240
                    configure:
                        timeout: 240
                        bulk: true
            b:
                protocol: telnet
                ip: 10.197.127.14
                port: 2007
                service_attributes:
                    execute:
                        timeout: 240
                    configure:
                        timeout: 240
                        bulk: true
            vty:
                protocol: ssh
                ip: 10.197.127.62
                service_attributes:
                    execute:
                        timeout: 240
                    configure:
                        timeout: 240
                        bulk: true
        custom:
            execute:
                timeout: 240
            configure:
                timeout: 240
            abstraction:
                order: [os, platform]
            gw: 10.197.127.1
            msk: 25

    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
    #           Device - GX-TOR-1 - node04_stdVtep3        #
    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-

    GX-TOR-1:
        alias: node04_stdVtep3
        type: n9k
        platform: n9k
        os: nxos
        connections:
            defaults:
                class: unicon.Unicon
            a:
                protocol: telnet
                ip: 10.197.127.14
                port: 2008
                service_attributes:
                    execute:
                        timeout: 240
                    configure:
                        timeout: 240
                        bulk: true
            vty:
                protocol: ssh
                ip: 10.197.127.63
                service_attributes:
                    execute:
                        timeout: 240
                    configure:
                        timeout: 240
                        bulk: true
        custom:
            execute:
                timeout: 240
            configure:
                timeout: 240
            abstraction:
                order: [os, platform]
            gw: 10.197.127.1
            msk: 25

    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
    #         Device - GX-FAN-1 - node05_vpcFANOUT         #
    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-

    GX-FAN-1:
        alias: node05_vpcFANOUT
        type: n3k
        platform: n3k
        os: nxos
        connections:
            defaults:
                class: unicon.Unicon
            a:
                protocol: telnet
                ip: 10.197.127.14
                port: 2020
                service_attributes:
                    execute:
                        timeout: 240
                    configure:
                        timeout: 240
                        bulk: false
        custom:
            execute:
                timeout: 240
            configure:
                timeout: 240
            abstraction:
                order: [os, platform]

    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
    #                             TGEN Details                               #
    # -----------------------------------------------------------------------#
    # -----------------------------------------------------------------------#
    #                             TGEN Port Mapping                          #
    # -----------------------------------------------------------------------#
    # PORT  -      Node Alias       -      Node Name      -   Device Port    #
    # -----------------------------------------------------------------------#
    # 6/29  -   node02_vpcVtep1-1   -      GX-EOR-1       -      1/31/1      #
    # 6/30  -   node02_vpcVtep1-2   -      GX-EOR-1       -      1/32/2      #
    # 6/31  -   node03_vpcVtep2-1   -      GX-EOR-2       -      1/31/1      #
    # 6/32  -   node03_vpcVtep2-2   -      GX-EOR-2       -      1/32/2      #
    # 6/33  -   node04_stdVtep3-1   -      GX-TOR-1       -      1/59/1      #
    # 6/34  -   node04_stdVtep3-2   -      GX-TOR-1       -      1/63/1      #
    # 6/35  -   node06_FEX_ST-1     -      FEX101         -      101/1/29    #
    # 6/36  -   node06_FEX_ST-2     -      FEX101         -      101/1/30    #
    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-

    # VM Information
    ixia:
        type: tgn
        alias: ixia
        os: 'ixianative'
        connections:
            tgn:
                class: genie.trafficgen.ixianative.IxiaNative
                ixnetwork_api_server_ip: 10.104.102.239
                ixnetwork_tcl_port: 8009
                ixnetwork_version: '9.10'
                ixia_chassis_ip: 10.255.127.36
                ixia_license_server_ip: 10.255.127.36
                ixia_port_list: [6/29, 6/30, 6/31, 6/32, 6/33, 6/34, 6/35, 6/36]
        custom:
            config: ixia_esi_rx.ixncfg

#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
#    Node List:                                                    #
#            node01_spine        : GX-SPINE                        #
#            node02_vpcVtep1     : GX-EOR-1                        #
#            node03_vpcVtep2     : GX-EOR-2                        #
#            node04_stdVtep3     : GX-TOR-1                        #
#            node05_vpcFANOUT    : GX-FAN-1                        #
#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-

#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
#                   Topology Details                               #
#-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-

topology:

    # Node ID : node01_spine
    GX-SPINE:
        interfaces:
            # -- towards VTEP-1 as Link-1
            Ethernet1/1:
                type: ethernet
                inf_speed: 100000
                alias: nd01_nd02_1_1
                link: nd01_nd02_1_1
            # -- towards VTEP-1 as Link-2
            Ethernet1/2:
                type: ethernet
                inf_speed: 100000
                alias: nd01_nd02_1_2
                link: nd01_nd02_1_2
            # -- towards VTEP-2 as Link-1
            Ethernet1/12:
                type: ethernet
                inf_speed: 40000
                alias: nd01_nd03_1_1
                link: nd01_nd03_1_1
            # -- towards VTEP-2 as Link-2
            Ethernet1/13:
                type: ethernet
                inf_speed: 40000
                alias: nd01_nd03_1_2
                link: nd01_nd03_1_2
            # -- towards VTEP-3 as Link-1
            Ethernet1/33:
                type: ethernet
                inf_speed: 100000
                alias: nd01_nd04_1_1
                link: nd01_nd04_1_1     
            # -- towards VTEP-3 as Link-2
            Ethernet1/35:
                type: ethernet
                inf_speed: 100000
                alias: nd01_nd04_1_2
                link: nd01_nd04_1_2

    # Node ID : node02_vpcVtep1
    GX-EOR-1:
        interfaces:
            # -- towards SPINE as Link-1
            Ethernet4/1:
                type: ethernet
                inf_speed: 100000
                alias: nd02_nd01_1_1
                link: nd01_nd02_1_1
            # -- towards SPINE as Link-2
            Ethernet4/8:
                type: ethernet
                inf_speed: 100000
                alias: nd02_nd01_1_2
                link: nd01_nd02_1_2              
            # -- towards VTEP-2 as VPC Link-1
            Ethernet1/9/1:
                type: ethernet
                inf_speed: 25000
                alias: nd02_nd03_1_1
                link: nd02_nd03_1_1
            # -- towards VTEP-2 as VPC Link-2
            Ethernet1/9/2:
                type: ethernet
                inf_speed: 25000
                alias: nd02_nd03_1_2
                link: nd02_nd03_1_2
            # -- towards VTEP-2 as VPC Link-3
            Ethernet1/9/3:
                type: ethernet
                inf_speed: 25000
                alias: nd02_nd03_1_3
                link: nd02_nd03_1_3
            # -- towards VTEP-2 as VPC Link-4
            Ethernet2/9:
                type: ethernet
                inf_speed: 100000
                alias: nd02_nd03_1_4
                link: nd02_nd03_1_4
            # -- towards FANOUT as Link-1
            Ethernet4/3/1:
                type: ethernet
                inf_speed: 10000
                alias: nd02_nd05_1_1
                link: nd02_nd05_1_1
            # -- towards FANOUT as Link-2
            Ethernet4/3/2:
                type: ethernet
                inf_speed: 10000
                alias: nd02_nd05_1_2
                link: nd02_nd05_1_2
            # -- towards T.GEN as Link-1
            Eth1/31/1:
                type: ethernet
                inf_speed: 10000
                alias: nd02_tgen_1_1
                link: nd02_tgen_1_1
            # -- towards T.GEN as Link-2
            Eth1/32/1:
                type: ethernet
                inf_speed: 10000
                alias: nd02_tgen_1_2
                link: nd02_tgen_1_2

    # Node ID : node03_vpcVtep2
    GX-EOR-2:
        interfaces:
            # -- towards SPINE as Link-1
            Ethernet1/1:
                type: ethernet
                inf_speed: 40000
                alias: nd03_nd01_1_1
                link: nd01_nd03_1_1
            # -- towards SPINE as Link-2
            Ethernet2/1:
                type: ethernet
                inf_speed: 40000
                alias: nd03_nd01_1_2
                link: nd01_nd03_1_2               
            # -- towards VTEP-1 as VPC Link-1
            Ethernet1/9/1:
                type: ethernet
                inf_speed: 25000
                alias: nd03_nd02_1_1
                link: nd02_nd03_1_1
            # -- towards VTEP-1 as VPC Link-2
            Ethernet1/9/2:
                type: ethernet
                inf_speed: 25000
                alias: nd03_nd02_1_2
                link: nd02_nd03_1_2
            # -- towards VTEP-1 as VPC Link-3
            Ethernet1/9/3:
                type: ethernet
                inf_speed: 25000
                alias: nd03_nd02_1_3
                link: nd02_nd03_1_3
            # -- towards VTEP-1 as VPC Link-4
            Ethernet2/9:
                type: ethernet
                inf_speed: 100000
                alias: nd03_nd02_1_4
                link: nd02_nd03_1_4
            # -- towards FANOUT as Link-1
            Ethernet4/3/1:
                type: ethernet
                inf_speed: 10000
                alias: nd03_nd05_1_1
                link: nd03_nd05_1_1
            # -- towards FANOUT as Link-2
            Ethernet4/3/2:
                type: ethernet
                inf_speed: 10000
                alias: nd03_nd05_1_2
                link: nd03_nd05_1_2               
            # -- towards T.GEN as Link-1
            Eth1/31/1:
                type: ethernet
                inf_speed: 10000
                alias: nd03_tgen_1_1
                link: nd03_tgen_1_1
            # -- towards T.GEN as Link-2
            Eth1/32/1:
                type: ethernet
                inf_speed: 10000
                alias: nd03_tgen_1_2
                link: nd03_tgen_1_2               

    # Node ID : node04_stdVtep3
    GX-TOR-1:
        interfaces:
            # -- towards SPINE as Link-1
            Ethernet1/1:
                type: ethernet
                inf_speed: 100000
                alias: nd04_nd01_1_1
                link: nd01_nd04_1_1
            # -- towards SPINE as Link-2
            Ethernet1/9:
                type: ethernet
                inf_speed: 100000
                alias: nd04_nd01_1_2
                link: nd01_nd04_1_2               
            # -- towards T.GEN as Link-1
            Eth1/59/1:
                type: ethernet
                inf_speed: 10000
                alias: nd04_tgen_1_1
                link: nd04_tgen_1_1
            # -- towards T.GEN as Link-2
            Eth1/63/1:
                type: ethernet
                inf_speed: 10000
                alias: nd04_tgen_1_2
                link: nd04_tgen_1_2
            # -- towards FEX101 as PO uplink as Link-1
            Ethernet1/57/1:
                type: ethernet
                inf_speed: 40000
                alias: nd04_nd06_1_1
                link: nd04_nd06_1_1
            # -- towards FEX101 as PO uplink as Link-2
            Ethernet1/57/2:
                type: ethernet
                inf_speed: 40000
                alias: nd04_nd06_1_2
                link: nd04_nd06_1_2
            # -- towards T.GEN as FEX101 as Link-1
            Eth101/1/29:
                type: ethernet
                inf_speed: 10000
                alias: nd06_tgen_1_1
                link: nd06_tgen_1_1
            # -- towards T.GEN as FEX101 as Link-2
            Eth101/1/30:
                type: ethernet
                inf_speed: 10000
                alias: nd06_tgen_1_2
                link: nd06_tgen_1_2

    # Node ID : node05_vpcFANOUT
    GX-FAN-1:
        interfaces:
            # -- towards VTEP-1 as Link-1
            Ethernet1/3/1:
                type: ethernet
                inf_speed: 10000
                alias: nd05_nd02_1_1
                link: nd02_nd05_1_1
            # -- towards VTEP-1 as Link-2
            Ethernet1/3/2:
                type: ethernet
                inf_speed: 10000
                alias: nd05_nd02_1_2
                link: nd02_nd05_1_2               
            # -- towards VTEP-2 as Link-1
            Ethernet1/5/1:
                type: ethernet
                inf_speed: 10000
                alias: nd05_nd03_1_1
                link: nd03_nd05_1_1
            # -- towards VTEP-2 as Link-2
            Ethernet1/5/2:
                type: ethernet
                inf_speed: 10000
                alias: nd05_nd03_1_2
                link: nd03_nd05_1_2

    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
    #                            TGEN Links                            #
    #         [6/29, 6/30, 6/31, 6/32, 6/33, 6/34, 6/35, 6/36]         #
    #-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-

    ixia:
        interfaces:
            # T.GEN towards VTEP-1 as Link-1
            6/29:
                type: fiber
                inf_speed: 100000
                alias: tgen_nd02_1_1
                link: nd02_tgen_1_1
            # T.GEN towards VTEP-1 as Link-2
            6/30:
                type: fiber
                inf_speed: 100000
                alias: tgen_nd02_1_2
                link: nd02_tgen_1_2
            # T.GEN towads VTEP-2 as Link-1
            6/31:
                type: fiber
                inf_speed: 100000
                alias: tgen_nd03_1_1
                link: nd03_tgen_1_1
            # T.GEN towads VTEP-2 as Link-2
            6/32:
                type: fiber
                inf_speed: 100000
                alias: tgen_nd03_1_2
                link: nd03_tgen_1_2
            # T.GEN towads VTEP-3
            6/33:
                type: fiber
                inf_speed: 100000
                alias: tgen_nd04_1_1
                link: nd04_tgen_1_1
            # T.GEN towads SPINE
            6/34:
                type: fiber
                inf_speed: 100000
                alias: tgen_nd04_1_2
                link: nd04_tgen_1_2
            # T.GEN to FANOUT
            6/35:
                type: fiber
                inf_speed: 100000
                alias: tgen_nd06_1_1
                link: nd06_tgen_1_1
            # T.GEN to FEX_ST
            6/36:
                type: fiber
                inf_speed: 100000
                alias: tgen_nd06_1_2
                link: nd06_tgen_1_2